(()=>{var e={};e.id=487,e.ids=[487],e.modules={3221:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>j,routeModule:()=>m,serverHooks:()=>f,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{DELETE:()=>c,GET:()=>d});var i=r(41220),n=r(79257),o=r(94320),a=r(29021),p=r(69789),u=r(33873),l=r(90314);let c=async(e,{params:t})=>{try{let{filename:e}=await t;if(!e)return p.NextResponse.json({error:"Filename is required in the URL"},{status:400});let r=(0,u.join)(process.cwd(),l.MQ),s=(0,u.join)(r,e);if(!(0,a.existsSync)(s))return p.NextResponse.json({error:"File does not exist"},{status:404});return(0,a.unlinkSync)(s),p.NextResponse.json({success:!0})}catch(e){return p.NextResponse.json({error:e.message||"File deletion failed"},{status:500})}},d=async(e,{params:t})=>{let{filename:r}=await t;if(!r)return p.NextResponse.json({error:"Filename is required in the URL"},{status:400});let s=(0,u.join)(process.cwd(),l.MQ),i=(0,u.join)(s,r);if(!(0,a.existsSync)(i))return p.NextResponse.json({error:"File does not exist"},{status:404});let n=(0,a.readFileSync)(i),o=r.split(".").pop()?.toLowerCase();return new p.NextResponse(n,{headers:{"Content-Length":n.length.toString(),"Content-Type":{pdf:"application/pdf",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",txt:"text/plain",json:"application/json",zip:"application/zip",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",webp:"image/webp",svg:"image/svg+xml",html:"text/html",css:"text/css",js:"text/javascript",mp4:"video/mp4",webm:"video/webm",mp3:"audio/mpeg",wav:"audio/wav"}[o||""]||"application/octet-stream","Content-Disposition":`inline; filename="${r}"`}})},m=new i.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/files/[filename]/route",pathname:"/api/files/[filename]",filename:"route",bundlePath:"app/api/files/[filename]/route"},resolvedPagePath:"/Volumes/Primary/projects/cunguyendev/mela-digital/apps/file-uploader/src/app/api/files/[filename]/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:g,workUnitAsyncStorage:x,serverHooks:f}=m;function j(){return(0,o.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:x})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25514:()=>{},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70917:(e,t,r)=>{"use strict";r.d(t,{M:()=>n,e:()=>i});let s=JSON.parse('{"rE":"0.0.18","h_":"Support for multiple file types and sizes"}'),i={name:"File Uploader",description:s.h_,version:s.rE,githubOrgUrl:"https://github.com/Mela-Digital",githubRepoUrl:"https://github.com/Mela-Digital/file-uploader"},n=process.env.UPLOADED_FOLDER??"_uploads"},88562:()=>{},90314:(e,t,r)=>{"use strict";r.d(t,{MQ:()=>s.M});var s=r(70917)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[320,376],()=>r(3221));module.exports=s})();